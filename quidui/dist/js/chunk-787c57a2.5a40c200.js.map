{"version":3,"sources":["webpack:///./src/views/ViewOrgs.vue?9dd1","webpack:///./src/components/orgs/OrgsAdd.vue?963f","webpack:///src/components/orgs/OrgsAdd.vue","webpack:///./src/components/orgs/OrgsAdd.vue?f8bd","webpack:///./src/components/orgs/OrgsAdd.vue","webpack:///src/views/ViewOrgs.vue","webpack:///./src/views/ViewOrgs.vue?185b","webpack:///./src/views/ViewOrgs.vue","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/components/LoadingIndicator.vue?a28d","webpack:///./src/components/LoadingIndicator.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","action","staticStyle","on","$event","$store","commit","_e","state","attrs","model","value","callback","$$v","showActionBar","expression","refresh","data","fields","scopedSlots","_u","key","fn","row","confirmDeleteItem","item","id","name","ref","mod","deleteItem","itemToDelete","cancel","_s","staticRenderFns","isValidName","form","$set","postForm","methods","computed","length","component","components","LoadingIndicator","OrgsAdd","isLoading","$refs","show","fetchOrgs","$bvToast","toast","title","variant","autoHideDelay","get","s","set","newName","mounted","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error","script"],"mappings":"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","file":"js/chunk-787c57a2.5a40c200.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"text-muted mt-3\"},[_vm._v(\" Orgs \"),(_vm.action !== 'addOrg')?_c('b-icon-plus',{staticClass:\"mr-1\",staticStyle:{\"color\":\"lightgrey\"},on:{\"click\":function($event){return _vm.$store.commit('action', 'addOrg')}}}):_vm._e()],1),(_vm.state.isLoading)?_c('loading-indicator'):_vm._e(),_c('div',[_c('b-collapse',{staticClass:\"mt-2\",attrs:{\"id\":\"collapse-4\"},model:{value:(_vm.showActionBar),callback:function ($$v) {_vm.showActionBar=$$v},expression:\"showActionBar\"}},[(_vm.action === 'addOrg')?_c('orgs-add',{on:{\"refresh\":_vm.refresh}}):_vm._e()],1)],1),_c('b-table',{staticClass:\"mt-4\",staticStyle:{\"max-width\":\"650px\"},attrs:{\"hover\":\"\",\"bordeless\":\"\",\"items\":_vm.data,\"fields\":_vm.fields},scopedSlots:_vm._u([{key:\"cell(action)\",fn:function(row){return [_c('b-button',{attrs:{\"variant\":\"outline-danger\"},on:{\"click\":function($event){return _vm.confirmDeleteItem(row.item.id, row.item.name)}}},[_vm._v(\"Delete\")])]}}])}),_c('b-modal',{ref:\"delete-modal\",attrs:{\"title\":\"Delete org\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(mod){return [_c('b-button',{attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.deleteItem(_vm.itemToDelete)}}},[_vm._v(\"Delete\")]),_c('b-button',{attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return mod.cancel()}}},[_vm._v(\"Cancel\")])]}}])},[_vm._v(\" Delete \"+_vm._s(_vm.itemToDelete.name)+\"? \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',[_c('b-card',{staticClass:\"mb-2\",staticStyle:{\"max-width\":\"28rem\"},attrs:{\"title\":\"Add an org\"}},[_c('b-card-text',[_c('b-form-group',[_c('b-form-input',{attrs:{\"state\":_vm.isValidName,\"placeholder\":\"name\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_c('b-form-invalid-feedback',{attrs:{\"state\":_vm.isValidName}},[_vm._v(\"The name must be at least 4 characters long\")])],1)],1),(_vm.isValidName)?_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":_vm.postForm}},[_vm._v(\"Save\")]):_c('b-button',{attrs:{\"variant\":\"success\",\"disabled\":\"\"}},[_vm._v(\"Save\")]),_c('b-button',{staticClass:\"ml-2\",attrs:{\"variant\":\"warning\"},on:{\"click\":function($event){return _vm.$store.commit('endAction')}}},[_vm._v(\"Cancel\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-form>\n    <b-card title=\"Add an org\" style=\"max-width: 28rem\" class=\"mb-2\">\n      <b-card-text>\n        <b-form-group>\n          <b-form-input\n            v-model=\"form.name\"\n            :state=\"isValidName\"\n            placeholder=\"name\"\n          ></b-form-input>\n          <b-form-invalid-feedback :state=\"isValidName\"\n            >The name must be at least 4 characters\n            long</b-form-invalid-feedback\n          >\n        </b-form-group>\n      </b-card-text>\n      <b-button variant=\"success\" v-if=\"isValidName\" @click=\"postForm\"\n        >Save</b-button\n      >\n      <b-button variant=\"success\" v-else disabled>Save</b-button>\n      <b-button\n        variant=\"warning\"\n        class=\"ml-2\"\n        @click=\"$store.commit('endAction')\"\n        >Cancel</b-button\n      >\n    </b-card>\n  </b-form>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      form: {\n        name: \"\",\n      },\n    };\n  },\n  methods: {\n    async postForm() {\n      let { error } = await this.$api.post(\"/admin/orgs/add\", {\n        name: this.form.name,\n      });\n      if (error == null) {\n        this.form.name = \"\";\n        this.$emit(\"refresh\");\n        this.$store.commit(\"endAction\");\n      } else {\n        //console.log(\"ERR RESP\", error.response);\n        if (error.reponse.status === 409) {\n          this.form.name = \"\";\n        }\n      }\n    },\n  },\n  computed: {\n    isValidName() {\n      if (this.form.name.length === 0) {\n        return null;\n      }\n      return this.form.name.length >= 4;\n    },\n  },\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrgsAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrgsAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrgsAdd.vue?vue&type=template&id=69704d36&\"\nimport script from \"./OrgsAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./OrgsAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <h1 class=\"text-muted mt-3\">\n      Orgs&nbsp;\n      <b-icon-plus\n        v-if=\"action !== 'addOrg'\"\n        class=\"mr-1\"\n        style=\"color: lightgrey\"\n        @click=\"$store.commit('action', 'addOrg')\"\n      />\n    </h1>\n    <loading-indicator v-if=\"state.isLoading\"></loading-indicator>\n    <div>\n      <b-collapse id=\"collapse-4\" v-model=\"showActionBar\" class=\"mt-2\">\n        <orgs-add v-if=\"action === 'addOrg'\" @refresh=\"refresh\"></orgs-add>\n      </b-collapse>\n    </div>\n    <b-table\n      hover\n      bordeless\n      :items=\"data\"\n      :fields=\"fields\"\n      class=\"mt-4\"\n      style=\"max-width: 650px\"\n    >\n      <template v-slot:cell(action)=\"row\">\n        <b-button\n          variant=\"outline-danger\"\n          @click=\"confirmDeleteItem(row.item.id, row.item.name)\"\n          >Delete</b-button\n        >\n      </template>\n    </b-table>\n    <b-modal title=\"Delete org\" ref=\"delete-modal\">\n      Delete {{ itemToDelete.name }}?\n      <template v-slot:modal-footer=\"mod\">\n        <b-button variant=\"danger\" @click=\"deleteItem(itemToDelete)\"\n          >Delete</b-button\n        >\n        <b-button variant=\"warning\" @click=\"mod.cancel()\">Cancel</b-button>\n      </template>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from \"vuex\";\nimport LoadingIndicator from \"@/components/LoadingIndicator\";\nimport OrgsAdd from \"@/components/orgs/OrgsAdd\";\n\nexport default {\n  components: {\n    LoadingIndicator,\n    OrgsAdd,\n  },\n  data() {\n    return {\n      data: [],\n      state: {\n        isLoading: false,\n      },\n      fields: [\n        { key: \"id\", sortable: true },\n        { key: \"name\", sortable: true },\n        { key: \"action\", sortable: false },\n      ],\n      itemToDelete: {},\n    };\n  },\n  methods: {\n    async fetchOrgs() {\n      this.state.isLoading = true;\n      let { response } = await this.$api.get(\"/admin/orgs/all\");\n      this.data = response.data;\n      this.state.isLoading = false;\n    },\n    confirmDeleteItem(id, name) {\n      this.itemToDelete = {\n        name: name,\n        id: id,\n      };\n      this.$refs[\"delete-modal\"].show();\n    },\n    async deleteItem(ns) {\n      this.$refs[\"delete-modal\"].hide();\n      let { error } = await this.$api.post(\"/admin/orgs/delete\", {\n        id: ns.id,\n      });\n      if (error === null) {\n        this.$bvToast.toast(\"Ok\", {\n          title: \"Org deleted\",\n          autoHideDelay: 1000,\n          variant: \"success\",\n        });\n        this.fetchOrgs();\n      }\n    },\n    refresh() {\n      this.fetchOrgs();\n      this.$bvToast.toast(\"ok\", {\n        title: \"Org saved\",\n        variant: \"success\",\n        autoHideDelay: 1500,\n      });\n    },\n  },\n  computed: {\n    ...mapState([\"action\"]),\n    ...mapGetters({\n      s: \"showActionBar\",\n    }),\n    showActionBar: {\n      get() {\n        return this.s;\n      },\n      set(newName) {\n        return newName;\n      },\n    },\n  },\n  mounted() {\n    this.fetchOrgs();\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewOrgs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ViewOrgs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ViewOrgs.vue?vue&type=template&id=47adc0ac&\"\nimport script from \"./ViewOrgs.vue?vue&type=script&lang=js&\"\nexport * from \"./ViewOrgs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-center mt-5\",staticStyle:{\"color\":\"lightgrey\"}},[_c('b-icon',{staticClass:\"h1\",attrs:{\"icon\":\"three-dots\",\"animation\":\"cylon\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./LoadingIndicator.vue?vue&type=template&id=045a4d0a&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}